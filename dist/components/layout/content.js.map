{"version":3,"file":"content.js","sourceRoot":"","sources":["../../../src/components/layout/content.tsx"],"names":[],"mappings":"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","sourcesContent":["import { ErrorImage, Spinner } from \"@/index\";\nimport { PropsWithChildren, useEffect, useRef, useState, useMemo } from \"react\";\nimport { useLayoutContext } from \"./context\";\nimport { isIframe, cn } from \"@/utils\";\n\nexport function LayoutContent({\n  children,\n  className,\n}: PropsWithChildren & { className?: string }) {\n  const [scrollbarOpacity, setScrollbarOpacity] = useState(0);\n  const [transitionDuration, setTransitionDuration] = useState(1000);\n  const containerRef = useRef<HTMLDivElement>(null);\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setTransitionDuration(150);\n      setScrollbarOpacity(0.3);\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      timeoutRef.current = setTimeout(() => {\n        setTransitionDuration(300);\n        setScrollbarOpacity(0);\n      }, 1000);\n    };\n\n    const el = containerRef.current;\n    if (el) {\n      el.addEventListener(\"scroll\", handleScroll);\n    }\n\n    return () => {\n      if (el) el.removeEventListener(\"scroll\", handleScroll);\n      if (timeoutRef.current) clearTimeout(timeoutRef.current);\n    };\n  }, []);\n\n  const { bottomLayout } = useLayoutContext();\n  const mbCompensation = useMemo(() => {\n    if (!isIframe()) {\n      return;\n    }\n\n    if (bottomLayout === \"tabs\") {\n      return \"[@media(min-width:768px)_and_(min-height:528px)]:mb-[72px]\";\n    }\n\n    if (bottomLayout === \"footer\") {\n      return \"[@media(min-width:768px)_and_(min-height:400px)]:mb-[200px]\";\n    }\n  }, [bottomLayout]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={cn(\n        \"h-full sm:h-auto w-full p-4 flex flex-col items-stretch gap-4 overflow-y-scroll\",\n        mbCompensation,\n        isIframe() && \"flex-1\",\n        className,\n      )}\n      style={{\n        scrollbarWidth: \"none\",\n        scrollbarColor: `rgba(100, 100, 100, ${scrollbarOpacity}) transparent`,\n        transition: `scrollbar-color ${transitionDuration}ms ease-in-out`,\n      }}\n    >\n      <style>\n        {`\n          ::-webkit-scrollbar-thumb {\n            display: none;\n            background: rgba(100, 100, 100, ${scrollbarOpacity});\n            transition: background ${transitionDuration}ms ease-in-out;\n          }\n        `}\n      </style>\n      {children}\n    </div>\n  );\n}\n\nexport function LayoutContentLoader() {\n  return (\n    <LayoutContent className=\"h-full w-full items-center justify-center pb-4 select-none\">\n      <div className=\"w-full flex justify-center items-center h-full border border-dashed rounded-md border-background-400 mb-4\">\n        <Spinner className=\"text-foreground-400\" size=\"lg\" />\n      </div>\n    </LayoutContent>\n  );\n}\n\nexport function LayoutContentError({\n  children = \"Oops! Something went wrong.\",\n}: PropsWithChildren) {\n  return (\n    <LayoutContent className=\"h-full items-center gap-8 p-8\">\n      <div className=\"text-semibold\">{children}</div>\n      <ErrorImage />\n    </LayoutContent>\n  );\n}\n"]}