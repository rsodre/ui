{"version":3,"file":"apiFetcher.js","sourceRoot":"","sources":["../../../src/utils/api/apiFetcher.tsx"],"names":[],"mappings":"AAAA,MAAM,UAAU,eAAe,CAC7B,OAAe,EACf,OAGC;IAED,OAAO,KAAK,EACV,QAAgB,EAChB,IAA6B,EAC7B,SAAkC,EAClC,MAAoB,EACJ,EAAE;QAClB,OAAO,MAAM,OAAO,CAClB,GAAG,OAAO,IAAI,QAAQ,EAAE,EACxB,OAAO,EACP,IAAI,EACJ,SAAS,EACT,MAAM,CACP,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC;AAED,MAAM,CAAC,KAAK,UAAU,OAAO,CAC3B,GAAW,EACX,OAGC,EACD,IAA8B,EAC9B,SAAkC,EAClC,MAAoB;IAEpB,IAAI,QAAQ,GAAG,GAAG,CAAC;IACnB,IAAI,SAAS,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;QACnD,MAAM,MAAM,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC,QAAQ,EAAE,CAAC;QACzD,QAAQ,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;IACvD,CAAC;IAED,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,QAAQ,EAAE;QACrC,MAAM,EAAE,MAAM;QACd,WAAW,EAAE,OAAO,EAAE,WAAW,IAAI,SAAS;QAC9C,OAAO,EAAE;YACP,cAAc,EAAE,kBAAkB;YAClC,GAAG,CAAC,OAAO,EAAE,OAAO,IAAI,EAAE,CAAC;SAC5B;QACD,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC;QAC1B,MAAM;KACP,CAAC,CAAC;IAEH,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,CAAC;QACjB,MAAM,IAAI,KAAK,CAAC,uBAAuB,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;IAC5D,CAAC;IAED,MAAM,IAAI,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;IAEnC,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["export function fetchApiCreator(\n  baseUrl: string,\n  options?: {\n    credentials?: RequestInit[\"credentials\"];\n    headers?: RequestInit[\"headers\"];\n  },\n) {\n  return async <TData,>(\n    endpoint: string,\n    body: Record<string, unknown>,\n    urlParams?: Record<string, string>,\n    signal?: AbortSignal,\n  ): Promise<TData> => {\n    return await doFetch<TData>(\n      `${baseUrl}/${endpoint}`,\n      options,\n      body,\n      urlParams,\n      signal,\n    );\n  };\n}\n\nexport async function doFetch<TData>(\n  url: string,\n  options?: {\n    credentials?: RequestInit[\"credentials\"];\n    headers?: RequestInit[\"headers\"];\n  },\n  body?: Record<string, unknown>,\n  urlParams?: Record<string, string>,\n  signal?: AbortSignal,\n): Promise<TData> {\n  let finalUrl = url;\n  if (urlParams && Object.keys(urlParams).length > 0) {\n    const params = new URLSearchParams(urlParams).toString();\n    finalUrl += (url.includes(\"?\") ? \"&\" : \"?\") + params;\n  }\n\n  const response = await fetch(finalUrl, {\n    method: \"POST\",\n    credentials: options?.credentials || \"include\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      ...(options?.headers || {}),\n    },\n    body: JSON.stringify(body),\n    signal,\n  });\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  const json = await response.json();\n\n  return json;\n}\n"]}