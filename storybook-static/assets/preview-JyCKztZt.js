import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{P as u}from"./index-DTUS6EFt.js";import"./context-C0ZuLyu1.js";import"./alert-HkMSTgu9.js";import"./badge-CF9VCaa2.js";import"./breadcrumb-BssIq4hO.js";import"./index-D5rlNKlk.js";import"./card-CHJmWtwN.js";import"./checkbox-B_0M2hZW.js";import"./drawer-xE2kwbAV.js";import"./dropdown-menu-CRT-B5yA.js";import"./radio-group-KQIGPIF9.js";import"./menubar-CHnEKWjv.js";import"./popover-BvzVgOqp.js";import"./progress-Dkom_LNH.js";import"./select-CgzdedN0.js";import"./separator-DLNkf967.js";import"./sheet-Bq6Tz9es.js";import"./skeleton-CV1PtUMd.js";import"./switch-ssHJkgb5.js";import"./table-2Lq_Rdjg.js";import"./tabs-Baec46jY.js";import{r as l}from"./index-BlmOqGMO.js";import"./specialized-toasts-B5CTLsw7.js";import"./toggle-group-C7AVasTd.js";import"./index-XwABQy1c.js";import"./tooltip-gQAcybeF.js";import{c as N}from"./index-KnJS0CU8.js";import{c as E}from"./index-CRGxjvZy.js";import{C as g}from"./tag-DwevlwZ8.js";import{S}from"./stack-diamond-nJSktlxf.js";import{T as C}from"./tag-pg5LWMpO.js";const h=e=>{let r;return typeof e=="bigint"?r=Number(e):typeof e=="string"?r=parseFloat(e):r=e,isNaN(r)?"0":r.toLocaleString(navigator.language)},I=E("relative flex items-center justify-center overflow-hidden shrink-0",{variants:{variant:{default:""},size:{sm:"p-2 h-[128px]",md:"p-2 h-[128px]",lg:"p-2 h-[200px] rounded-lg"}},defaultVariants:{variant:"default",size:"md"}}),T=({images:e,totalCount:r,listingCount:c,variant:x,size:b,className:v,onError:m,...j})=>{const[a,y]=l.useState(0),[p,w]=l.useState(null),i=e&&e.length>0?e[a]:u;l.useEffect(()=>{(async()=>{if(i)try{const o=await fetch(i);if(!o.ok)return;const f=await o.text();if(!f.includes('width="100width="100%"'))return;const n=f.match(/data:image\/png;base64,[^)"]+/);n&&n.length>0&&w(n[0])}catch(o){console.error("Error fetching image:",o)}})()},[i]);const d=s=>{a<e.length-1&&e[a+1]?y(a+1):(s.currentTarget.src=u,m&&m(s))};return t.jsxs("div",{className:N(I({variant:x,size:b}),v),...j,children:[t.jsxs("div",{className:"absolute grow inset-0 blur-[8px] transition-opacity duration-150 opacity-75 group-hover:opacity-100",children:[t.jsx("img",{src:p||i,className:"object-cover absolute inset-0 w-full h-full image-pixelated",onError:d}),t.jsx("div",{className:"bg-center bg-cover h-full w-full relative",style:{backgroundImage:"linear-gradient(0deg, rgba(0, 0, 0, 0.64), rgba(0, 0, 0, 0.64))"}})]}),t.jsx("img",{className:"object-contain h-full w-full relative transition duration-150 ease-in-out group-hover:scale-[1.02]",style:{imageRendering:"pixelated"},draggable:!1,src:p||i,onError:d}),t.jsxs("div",{className:"flex gap-1 items-center flex-wrap justify-start absolute bottom-1.5 left-1.5",children:[!!r&&t.jsx(g,{label:`${h(r)}`,children:t.jsx(S,{variant:"solid",size:"sm"})}),!!c&&t.jsx(g,{label:`${h(c)}`,children:t.jsx(C,{variant:"solid",size:"sm"})})]})]})};T.__docgenInfo={description:"",methods:[],displayName:"CollectiblePreview",props:{images:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},totalCount:{required:!1,tsType:{name:"number"},description:""},listingCount:{required:!1,tsType:{name:"number"},description:""}},composes:["VariantProps"]};export{T as C};
